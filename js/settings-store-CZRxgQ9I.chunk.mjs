(function(){"use strict";try{if(typeof document<"u"){var c=document.createElement("style");c.appendChild(document.createTextNode(".checkbox-radio-switch[data-v-8c669300]{display:flex}.checkbox-radio-switch__input[data-v-8c669300]{position:fixed;z-index:-1;top:-5000px;left:-5000px;opacity:0}.checkbox-radio-switch__label[data-v-8c669300]{display:flex;align-items:center;-webkit-user-select:none;user-select:none;height:32px;width:32px;border-radius:44px;padding:0;margin:2px}.checkbox-radio-switch__label[data-v-8c669300],.checkbox-radio-switch__label[data-v-8c669300] *{cursor:pointer}.checkbox-radio-switch__icon[data-v-8c669300]{margin-right:4px;margin-left:4px;color:var(--color-primary-element);width:var(--icon-size);height:var(--icon-size)}.checkbox-radio-switch--disabled .checkbox-radio-switch__label[data-v-8c669300]{opacity:.7}.checkbox-radio-switch--disabled .checkbox-radio-switch__label .checkbox-radio-switch__icon[data-v-8c669300]{color:var(--color-text-light)}.checkbox-radio-switch:not(.checkbox-radio-switch--disabled) .checkbox-radio-switch__input:hover+.checkbox-radio-switch__label[data-v-8c669300],.checkbox-radio-switch:not(.checkbox-radio-switch--disabled) .checkbox-radio-switch__input:focus+.checkbox-radio-switch__label[data-v-8c669300]{background-color:var(--color-primary-element-light)}.checkbox-radio-switch:not(.checkbox-radio-switch--disabled) .checkbox-radio-switch__input:focus+.checkbox-radio-switch__label[data-v-8c669300]{box-shadow:0 0 0 2px var(--color-primary-element)}.checkbox-radio-switch-switch:not(.checkbox-radio-switch--checked) .checkbox-radio-switch__icon[data-v-8c669300]{color:var(--color-text-lighter)}.checkbox-radio-switch-switch.checkbox-radio-switch--disabled.checkbox-radio-switch--checked .checkbox-radio-switch__icon[data-v-8c669300]{color:var(--color-primary-element-light)}.checkbox-radio-switch .sr-only[data-v-8c669300]{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}table.grid th[data-v-648e684b]{color:var(--color-text-light);height:44px}table.grid .group-header th[data-v-648e684b]{padding-top:16px;height:60px}table.grid th.group-header-section[data-v-648e684b]{font-size:16px;font-weight:700}table.grid th.activity_select_group[data-v-648e684b]{color:var(--color-main-text)}.sr-only[data-v-648e684b]{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}")),document.head.appendChild(c)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
import{v as ut,x as dt,k as tt,b as ht,e as f,o as h,f as g,l as S,g as v,m as I,c as F,w as et,y as U,z as pt,A as ft,B as mt,t as w,r as gt,F as T,h as x,a as yt,p as vt}from"./preload-helper-RVLnSFSK.chunk.mjs";import{_ as C,l as _,c as _t,h as bt}from"./NcUserBubble-B3Jad98g-CgpgqKNE.chunk.mjs";import{f as R,s as Q}from"./index-hZPKu-D6-CyBKOb0_.chunk.mjs";import{l as Y}from"./logger-DAcBErzr.chunk.mjs";function kt(){return it().__VUE_DEVTOOLS_GLOBAL_HOOK__}function it(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Et=typeof Proxy=="function",wt="devtools-plugin:setup",Ct="plugin:settings:set";let O,L;function Ot(){var t;return O!==void 0||(typeof window<"u"&&window.performance?(O=!0,L=window.performance):typeof globalThis<"u"&&!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance?(O=!0,L=globalThis.perf_hooks.performance):O=!1),O}function Tt(){return Ot()?L.now():Date.now()}class xt{constructor(i,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=i,this.hook=e;const o={};if(i.settings)for(const r in i.settings){const s=i.settings[r];o[r]=s.defaultValue}const n=`__vue-devtools-plugin-settings__${i.id}`;let a=Object.assign({},o);try{const r=localStorage.getItem(n),s=JSON.parse(r);Object.assign(a,s)}catch{}this.fallbacks={getSettings(){return a},setSettings(r){try{localStorage.setItem(n,JSON.stringify(r))}catch{}a=r},now(){return Tt()}},e&&e.on(Ct,(r,s)=>{r===this.plugin.id&&this.fallbacks.setSettings(s)}),this.proxiedOn=new Proxy({},{get:(r,s)=>this.target?this.target.on[s]:(...c)=>{this.onQueue.push({method:s,args:c})}}),this.proxiedTarget=new Proxy({},{get:(r,s)=>this.target?this.target[s]:s==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(s)?(...c)=>(this.targetQueue.push({method:s,args:c,resolve:()=>{}}),this.fallbacks[s](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:s,args:c,resolve:u})})})}async setRealTarget(i){this.target=i;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function At(t,i){const e=t,o=it(),n=kt(),a=Et&&e.enableEarlyProxy;if(n&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))n.emit(wt,t,i);else{const r=a?new xt(e,n):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:i,proxy:r}),r&&i(r.proxiedTarget)}}var St="store";function E(t,i){Object.keys(t).forEach(function(e){return i(t[e],e)})}function ot(t){return t!==null&&typeof t=="object"}function It(t){return t&&typeof t.then=="function"}function Mt(t,i){return function(){return t(i)}}function Z(t,i,e){return i.indexOf(t)<0&&(e&&e.prepend?i.unshift(t):i.push(t)),function(){var o=i.indexOf(t);o>-1&&i.splice(o,1)}}function J(t,i){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var e=t.state;M(t,e,[],t._modules.root,!0),V(t,e,i)}function V(t,i,e){var o=t._state,n=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var a=t._wrappedGetters,r={},s={},c=ut(!0);c.run(function(){E(a,function(u,l){r[l]=Mt(u,t),s[l]=ht(function(){return r[l]()}),Object.defineProperty(t.getters,l,{get:function(){return s[l].value},enumerable:!0})})}),t._state=dt({data:i}),t._scope=c,t.strict&&Nt(t),o&&e&&t._withCommit(function(){o.data=null}),n&&n.stop()}function M(t,i,e,o,n){var a=!e.length,r=t._modules.getNamespace(e);if(o.namespaced&&(t._modulesNamespaceMap[r],t._modulesNamespaceMap[r]=o),!a&&!n){var s=$(i,e.slice(0,-1)),c=e[e.length-1];t._withCommit(function(){s[c]=o.state})}var u=o.context=Gt(t,r,e);o.forEachMutation(function(l,d){var p=r+d;jt(t,p,l,u)}),o.forEachAction(function(l,d){var p=l.root?d:r+d,z=l.handler||l;Dt(t,p,z,u)}),o.forEachGetter(function(l,d){var p=r+d;Lt(t,p,l,u)}),o.forEachChild(function(l,d){M(t,i,e.concat(d),l,n)})}function Gt(t,i,e){var o=i==="",n={dispatch:o?t.dispatch:function(a,r,s){var c=A(a,r,s),u=c.payload,l=c.options,d=c.type;return(!l||!l.root)&&(d=i+d),t.dispatch(d,u)},commit:o?t.commit:function(a,r,s){var c=A(a,r,s),u=c.payload,l=c.options,d=c.type;(!l||!l.root)&&(d=i+d),t.commit(d,u,l)}};return Object.defineProperties(n,{getters:{get:o?function(){return t.getters}:function(){return nt(t,i)}},state:{get:function(){return $(t.state,e)}}}),n}function nt(t,i){if(!t._makeLocalGettersCache[i]){var e={},o=i.length;Object.keys(t.getters).forEach(function(n){if(n.slice(0,o)===i){var a=n.slice(o);Object.defineProperty(e,a,{get:function(){return t.getters[n]},enumerable:!0})}}),t._makeLocalGettersCache[i]=e}return t._makeLocalGettersCache[i]}function jt(t,i,e,o){var n=t._mutations[i]||(t._mutations[i]=[]);n.push(function(a){e.call(t,o.state,a)})}function Dt(t,i,e,o){var n=t._actions[i]||(t._actions[i]=[]);n.push(function(a){var r=e.call(t,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:t.getters,rootState:t.state},a);return It(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch(function(s){throw t._devtoolHook.emit("vuex:error",s),s}):r})}function Lt(t,i,e,o){t._wrappedGetters[i]||(t._wrappedGetters[i]=function(n){return e(o.state,o.getters,n.state,n.getters)})}function Nt(t){tt(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function $(t,i){return i.reduce(function(e,o){return e[o]},t)}function A(t,i,e){return ot(t)&&t.type&&(e=i,i=t,t=t.type),{type:t,payload:i,options:e}}var Vt="vuex bindings",W="vuex:mutations",G="vuex:actions",k="vuex",$t=0;function Ht(t,i){At({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Vt]},function(e){e.addTimelineLayer({id:W,label:"Vuex Mutations",color:q}),e.addTimelineLayer({id:G,label:"Vuex Actions",color:q}),e.addInspector({id:k,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),e.on.getInspectorTree(function(o){if(o.app===t&&o.inspectorId===k)if(o.filter){var n=[];ct(n,i._modules.root,o.filter,""),o.rootNodes=n}else o.rootNodes=[st(i._modules.root,"")]}),e.on.getInspectorState(function(o){if(o.app===t&&o.inspectorId===k){var n=o.nodeId;nt(i,n),o.state=Pt(Ft(i._modules,n),n==="root"?i.getters:i._makeLocalGettersCache,n)}}),e.on.editInspectorState(function(o){if(o.app===t&&o.inspectorId===k){var n=o.nodeId,a=o.path;n!=="root"&&(a=n.split("/").filter(Boolean).concat(a)),i._withCommit(function(){o.set(i._state.data,a,o.state.value)})}}),i.subscribe(function(o,n){var a={};o.payload&&(a.payload=o.payload),a.state=n,e.notifyComponentUpdate(),e.sendInspectorTree(k),e.sendInspectorState(k),e.addTimelineEvent({layerId:W,event:{time:Date.now(),title:o.type,data:a}})}),i.subscribeAction({before:function(o,n){var a={};o.payload&&(a.payload=o.payload),o._id=$t++,o._time=Date.now(),a.state=n,e.addTimelineEvent({layerId:G,event:{time:o._time,title:o.type,groupId:o._id,subtitle:"start",data:a}})},after:function(o,n){var a={},r=Date.now()-o._time;a.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},o.payload&&(a.payload=o.payload),a.state=n,e.addTimelineEvent({layerId:G,event:{time:Date.now(),title:o.type,groupId:o._id,subtitle:"end",data:a}})}})})}var q=8702998,Bt=6710886,Kt=16777215,at={label:"namespaced",textColor:Kt,backgroundColor:Bt};function rt(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function st(t,i){return{id:i||"root",label:rt(i),tags:t.namespaced?[at]:[],children:Object.keys(t._children).map(function(e){return st(t._children[e],i+e+"/")})}}function ct(t,i,e,o){o.includes(e)&&t.push({id:o||"root",label:o.endsWith("/")?o.slice(0,o.length-1):o||"Root",tags:i.namespaced?[at]:[]}),Object.keys(i._children).forEach(function(n){ct(t,i._children[n],e,o+n+"/")})}function Pt(t,i,e){i=e==="root"?i:i[e];var o=Object.keys(i),n={state:Object.keys(t.state).map(function(r){return{key:r,editable:!0,value:t.state[r]}})};if(o.length){var a=zt(i);n.getters=Object.keys(a).map(function(r){return{key:r.endsWith("/")?rt(r):r,editable:!1,value:N(function(){return a[r]})}})}return n}function zt(t){var i={};return Object.keys(t).forEach(function(e){var o=e.split("/");if(o.length>1){var n=i,a=o.pop();o.forEach(function(r){n[r]||(n[r]={_custom:{value:{},display:r,tooltip:"Module",abstract:!0}}),n=n[r]._custom.value}),n[a]=N(function(){return t[e]})}else i[e]=N(function(){return t[e]})}),i}function Ft(t,i){var e=i.split("/").filter(function(o){return o});return e.reduce(function(o,n,a){var r=o[n];if(!r)throw new Error('Missing module "'+n+'" for path "'+i+'".');return a===e.length-1?r:r._children},i==="root"?t:t.root._children)}function N(t){try{return t()}catch(i){return i}}var y=function(t,i){this.runtime=i,this._children=Object.create(null),this._rawModule=t;var e=t.state;this.state=(typeof e=="function"?e():e)||{}},X={namespaced:{configurable:!0}};X.namespaced.get=function(){return!!this._rawModule.namespaced},y.prototype.addChild=function(t,i){this._children[t]=i},y.prototype.removeChild=function(t){delete this._children[t]},y.prototype.getChild=function(t){return this._children[t]},y.prototype.hasChild=function(t){return t in this._children},y.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},y.prototype.forEachChild=function(t){E(this._children,t)},y.prototype.forEachGetter=function(t){this._rawModule.getters&&E(this._rawModule.getters,t)},y.prototype.forEachAction=function(t){this._rawModule.actions&&E(this._rawModule.actions,t)},y.prototype.forEachMutation=function(t){this._rawModule.mutations&&E(this._rawModule.mutations,t)},Object.defineProperties(y.prototype,X);var b=function(t){this.register([],t,!1)};b.prototype.get=function(t){return t.reduce(function(i,e){return i.getChild(e)},this.root)},b.prototype.getNamespace=function(t){var i=this.root;return t.reduce(function(e,o){return i=i.getChild(o),e+(i.namespaced?o+"/":"")},"")},b.prototype.update=function(t){lt([],this.root,t)},b.prototype.register=function(t,i,e){var o=this;e===void 0&&(e=!0);var n=new y(i,e);if(t.length===0)this.root=n;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],n)}i.modules&&E(i.modules,function(r,s){o.register(t.concat(s),r,e)})},b.prototype.unregister=function(t){var i=this.get(t.slice(0,-1)),e=t[t.length-1],o=i.getChild(e);o&&o.runtime&&i.removeChild(e)},b.prototype.isRegistered=function(t){var i=this.get(t.slice(0,-1)),e=t[t.length-1];return i?i.hasChild(e):!1};function lt(t,i,e){if(i.update(e),e.modules)for(var o in e.modules){if(!i.getChild(o))return;lt(t.concat(o),i.getChild(o),e.modules[o])}}function Ut(t){return new m(t)}var m=function(t){var i=this;t===void 0&&(t={});var e=t.plugins;e===void 0&&(e=[]);var o=t.strict;o===void 0&&(o=!1);var n=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new b(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=n;var a=this,r=this,s=r.dispatch,c=r.commit;this.dispatch=function(l,d){return s.call(a,l,d)},this.commit=function(l,d,p){return c.call(a,l,d,p)},this.strict=o;var u=this._modules.root.state;M(this,u,[],this._modules.root),V(this,u),e.forEach(function(l){return l(i)})},j={state:{configurable:!0}};m.prototype.install=function(t,i){t.provide(i||St,this),t.config.globalProperties.$store=this;var e=this._devtools!==void 0?this._devtools:!1;e&&Ht(t,this)},j.state.get=function(){return this._state.data},j.state.set=function(t){},m.prototype.commit=function(t,i,e){var o=this,n=A(t,i,e),a=n.type,r=n.payload,s={type:a,payload:r},c=this._mutations[a];c&&(this._withCommit(function(){c.forEach(function(u){u(r)})}),this._subscribers.slice().forEach(function(u){return u(s,o.state)}))},m.prototype.dispatch=function(t,i){var e=this,o=A(t,i),n=o.type,a=o.payload,r={type:n,payload:a},s=this._actions[n];if(s){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(r,e.state)})}catch{}var c=s.length>1?Promise.all(s.map(function(u){return u(a)})):s[0](a);return new Promise(function(u,l){c.then(function(d){try{e._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(r,e.state)})}catch{}u(d)},function(d){try{e._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(r,e.state,d)})}catch{}l(d)})})}},m.prototype.subscribe=function(t,i){return Z(t,this._subscribers,i)},m.prototype.subscribeAction=function(t,i){var e=typeof t=="function"?{before:t}:t;return Z(e,this._actionSubscribers,i)},m.prototype.watch=function(t,i,e){var o=this;return tt(function(){return t(o.state,o.getters)},i,Object.assign({},e))},m.prototype.replaceState=function(t){var i=this;this._withCommit(function(){i._state.data=t})},m.prototype.registerModule=function(t,i,e){e===void 0&&(e={}),typeof t=="string"&&(t=[t]),this._modules.register(t,i),M(this,this.state,t,this._modules.get(t),e.preserveState),V(this,this.state)},m.prototype.unregisterModule=function(t){var i=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var e=$(i.state,t.slice(0,-1));delete e[t[t.length-1]]}),J(this)},m.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)},m.prototype.hotUpdate=function(t){this._modules.update(t),J(this,!0)},m.prototype._withCommit=function(t){var i=this._committing;this._committing=!0,t(),this._committing=i},Object.defineProperties(m.prototype,j);var Rt=B(function(t,i){var e={};return H(i).forEach(function(o){var n=o.key,a=o.val;e[n]=function(){var r=this.$store.state,s=this.$store.getters;if(t){var c=K(this.$store,"mapState",t);if(!c)return;r=c.context.state,s=c.context.getters}return typeof a=="function"?a.call(this,r,s):r[a]},e[n].vuex=!0}),e}),Qt=B(function(t,i){var e={};return H(i).forEach(function(o){var n=o.key,a=o.val;a=t+a,e[n]=function(){if(!(t&&!K(this.$store,"mapGetters",t)))return this.$store.getters[a]},e[n].vuex=!0}),e}),Yt=B(function(t,i){var e={};return H(i).forEach(function(o){var n=o.key,a=o.val;e[n]=function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];var c=this.$store.dispatch;if(t){var u=K(this.$store,"mapActions",t);if(!u)return;c=u.context.dispatch}return typeof a=="function"?a.apply(this,[c].concat(r)):c.apply(this.$store,[a].concat(r))}}),e});function H(t){return Zt(t)?Array.isArray(t)?t.map(function(i){return{key:i,val:i}}):Object.keys(t).map(function(i){return{key:i,val:t[i]}}):[]}function Zt(t){return Array.isArray(t)||ot(t)}function B(t){return function(i,e){return typeof i!="string"?(e=i,i=""):i.charAt(i.length-1)!=="/"&&(i+="/"),t(i,e)}}function K(t,i,e){var o=t._modulesNamespaceMap[e];return o}const Jt={name:"CheckboxBlankIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Wt=["aria-hidden","aria-label"],qt=["fill","width","height"],Xt={d:"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},te={key:0};function ee(t,i,e,o,n,a){return h(),f("span",I(t.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon checkbox-blank-icon",role:"img",onClick:i[0]||(i[0]=r=>t.$emit("click",r))}),[(h(),f("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[g("path",Xt,[e.title?(h(),f("title",te,v(e.title),1)):S("",!0)])],8,qt))],16,Wt)}const ie=C(Jt,[["render",ee]]),oe={name:"CheckboxBlankOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ne=["aria-hidden","aria-label"],ae=["fill","width","height"],re={d:"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z"},se={key:0};function ce(t,i,e,o,n,a){return h(),f("span",I(t.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon checkbox-blank-outline-icon",role:"img",onClick:i[0]||(i[0]=r=>t.$emit("click",r))}),[(h(),f("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[g("path",re,[e.title?(h(),f("title",se,v(e.title),1)):S("",!0)])],8,ae))],16,ne)}const le=C(oe,[["render",ce]]),ue={name:"CheckboxMarkedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},de=["aria-hidden","aria-label"],he=["fill","width","height"],pe={d:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},fe={key:0};function me(t,i,e,o,n,a){return h(),f("span",I(t.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon checkbox-marked-icon",role:"img",onClick:i[0]||(i[0]=r=>t.$emit("click",r))}),[(h(),f("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[g("path",pe,[e.title?(h(),f("title",fe,v(e.title),1)):S("",!0)])],8,he))],16,de)}const ge=C(ue,[["render",me]]),ye={name:"MinusBoxIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ve=["aria-hidden","aria-label"],_e=["fill","width","height"],be={d:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},ke={key:0};function Ee(t,i,e,o,n,a){return h(),f("span",I(t.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon minus-box-icon",role:"img",onClick:i[0]||(i[0]=r=>t.$emit("click",r))}),[(h(),f("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[g("path",be,[e.title?(h(),f("title",ke,v(e.title),1)):S("",!0)])],8,_e))],16,ve)}const we=C(ye,[["render",Ee]]),Ce={name:"CheckboxInput",props:{id:{type:String,required:!0,validator:t=>t.trim()!==""},checked:{type:[Boolean,Array,String],default:!1},value:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},wrapperElement:{type:String,default:"span"},name:{type:String,default:null}},emits:["update:checked"],computed:{size(){return 24},cssVars(){return{"--icon-size":this.size+"px"}},isChecked(){return[...this.checked].indexOf(this.value)>-1},checkboxRadioIconElement(){return this.indeterminate?we:this.disabled&&!this.isChecked?ie:this.isChecked?ge:le}},methods:{onToggle(){if(this.disabled)return;if(typeof this.checked=="boolean"){this.$emit("update:checked",!this.isChecked);return}const t=this.getInputsSet().filter(i=>i.checked).map(i=>i.value);this.$emit("update:checked",t)},getInputsSet(){return[...document.getElementsByName(this.name)]}}},Oe=["id","checked","disabled","indeterminate","name","value"],Te=["for"],xe={class:"sr-only"};function Ae(t,i,e,o,n,a){return h(),F(U(e.wrapperElement),{class:mt([{"checkbox-radio-switch--checked":a.isChecked,"checkbox-radio-switch--disabled":e.disabled,"checkbox-radio-switch--indeterminate":e.indeterminate},"checkbox-radio-switch checkbox-radio-switch-checkbox"]),style:ft(a.cssVars)},{default:et(()=>[g("input",{id:e.id,checked:a.isChecked,disabled:e.disabled,indeterminate:e.indeterminate,name:e.name,type:"checkbox",value:e.value,class:"checkbox-radio-switch__input",onChange:i[0]||(i[0]=(...r)=>a.onToggle&&a.onToggle(...r))},null,40,Oe),g("label",{for:e.id,class:"checkbox-radio-switch__label"},[(h(),F(U(a.checkboxRadioIconElement),{size:a.size,class:"checkbox-radio-switch__icon","aria-hidden":"true"},null,8,["size"])),g("span",xe,[pt(t.$slots,"default",{},void 0,!0)])],8,Te)]),_:3},8,["class","style"])}const Se=C(Ce,[["render",Ae],["__scopeId","data-v-8c669300"]]);function P(t,i){return t.methods.includes(i)}function D(t,i){for(const e of t)if(P(e,i)&&!e[i])return!0;return!1}const Ie={name:"ActivityGrid",components:{CheckboxInput:Se},computed:{...Qt(["checkedActivities"]),...Rt(["methods","activityGroups"])},methods:{isActivityEnabled:P,...Yt(["toggleMethodForMethodAndActivity"]),actionName(t){return t==="email"?w("activity","Send email"):w("activity","Send push notification")},t:w}},Me={class:"grid activitysettings"},Ge={class:"sr-only"},je={class:"group-header"},De={class:"group-header-section"},Le={scope:"row"},Ne=["innerHTML"];function Ve(t,i,e,o,n,a){const r=gt("CheckboxInput");return h(),f("table",Me,[g("caption",Ge,v(a.t("activity","Activity notification configuration")),1),(h(!0),f(T,null,x(t.activityGroups,(s,c)=>(h(),f("tbody",{key:c},[g("tr",je,[g("th",De,v(s.name),1),(h(!0),f(T,null,x(t.methods,(u,l)=>(h(),f("th",{key:l,class:"activity_select_group"},v(u),1))),128))]),(h(!0),f(T,null,x(s.activities,(u,l)=>(h(),f("tr",{key:l},[g("th",Le,[g("span",{innerHTML:u.desc},null,8,Ne)]),(h(!0),f(T,null,x(t.methods,(d,p)=>(h(),f("td",{key:p},[yt(r,{id:`${l}_${p}`,disabled:!a.isActivityEnabled(u,p),checked:t.checkedActivities,value:`${l}_${p}`,"onUpdate:checked":z=>t.toggleMethodForMethodAndActivity({groupKey:c,activityKey:l,methodKey:p})},{default:et(()=>[vt(v(a.actionName(p)),1)]),_:2},1032,["id","disabled","checked","value","onUpdate:checked"])]))),128))]))),128))]))),128))])}const Pe=C(Ie,[["render",Ve],["__scopeId","data-v-648e684b"]]),ze=new Ut({strict:!0,state:{setting:_("activity","setting"),activityGroups:_("activity","activity_groups"),isEmailSet:_("activity","is_email_set"),emailEnabled:_("activity","email_enabled"),activityDigestEnabled:_("activity","activity_digest_enabled",!1),settingBatchtime:_("activity","setting_batchtime"),methods:_("activity","methods"),endpoint:""},getters:{checkedActivities(t){const i=(e,o)=>{const n=[];return o.email&&n.push({activityKey:e,method:"email",activity:o}),o.notification&&n.push({activityKey:e,method:"notification",activity:o}),n};return Object.values(t.activityGroups).map(e=>Object.entries(e.activities)).reduce((e,o)=>e.concat(o),[]).map(([e,o])=>i(e,o)).reduce((e,o)=>e.concat(o),[]).filter(({activity:e,method:o})=>e[o]).map(({activityKey:e,method:o})=>`${e}_${o}`)}},mutations:{SET_METHOD_FOR_METHOD_AND_ACTIVITY(t,{groupKey:i,activityKey:e,methodKey:o,value:n}){const a=t.activityGroups[i].activities[e];P(a,o)&&(a[o]=n)},SET_ENDPOINT(t,{endpoint:i}){t.endpoint=i},SET_SETTING_BATCHTIME(t,{settingBatchtime:i}){t.settingBatchtime=i},TOGGLE_ACTIVITY_DIGEST(t,{activityDigestEnabled:i}){t.activityDigestEnabled=i},TOGGLE_EMAIL_ENABLED(t,{emailEnabled:i}){t.emailEnabled=i}},actions:{setEndpoint({commit:t},{endpoint:i}){t("SET_ENDPOINT",{endpoint:i})},toggleMethodForMethodAndActivity({commit:t,state:i,dispatch:e},{groupKey:o,activityKey:n,methodKey:a}){const r=i.activityGroups[o].activities[n],s=D([r],a);t("SET_METHOD_FOR_METHOD_AND_ACTIVITY",{groupKey:o,activityKey:n,methodKey:a,value:s}),e("saveSettings")},toggleMethodForGroup({commit:t,state:i,dispatch:e},{groupKey:o,methodKey:n}){const a=Object.values(i.activityGroups[o].activities),r=D(a,n);for(const s in i.activityGroups[o].activities)t("SET_METHOD_FOR_METHOD_AND_ACTIVITY",{groupKey:o,activityKey:s,methodKey:n,value:r});e("saveSettings")},toggleMethodsForActivity({commit:t,state:i,dispatch:e},{groupKey:o,activityKey:n}){const a=i.activityGroups[o].activities[n],r=a.methods.map(s=>D([a],s)).includes(!0);for(const s of a.methods)t("SET_METHOD_FOR_METHOD_AND_ACTIVITY",{groupKey:o,activityKey:n,methodKey:s,value:r});e("saveSettings")},setSettingBatchtime({commit:t,dispatch:i},{settingBatchtime:e}){t("SET_SETTING_BATCHTIME",{settingBatchtime:e}),i("saveSettings")},toggleActivityDigestEnabled({commit:t,dispatch:i},{activityDigestEnabled:e}){t("TOGGLE_ACTIVITY_DIGEST",{activityDigestEnabled:e}),i("saveSettings")},toggleEmailEnabled({commit:t},{emailEnabled:i}){t("TOGGLE_EMAIL_ENABLED",{emailEnabled:i});try{OCP.AppConfig.setValue("activity","enable_email",i?"yes":"no"),R(w("activity","Your settings have been updated."))}catch(e){Q(w("activity","Unable to save the settings")),Y.error("An error occurred while saving the activity settings",{error:e})}},async saveSettings({state:t,getters:i}){try{const e=new FormData;i.checkedActivities.forEach(n=>{e.append(n,"1")}),e.append("notify_setting_batchtime",`${t.settingBatchtime}`),e.append("activity_digest",`${t.activityDigestEnabled?1:0}`);const o=await _t.post(bt(t.endpoint),e);R(o.data.data.message)}catch(e){Q(w("activity","Unable to save the settings")),Y.error("An error occurred while saving the activity settings",{error:e})}}}});export{Pe as A,Rt as a,Yt as m,ze as s};
//# sourceMappingURL=settings-store-CZRxgQ9I.chunk.mjs.map
