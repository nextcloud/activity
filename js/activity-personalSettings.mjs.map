{"version":3,"file":"activity-personalSettings.mjs","sources":["../src/views/DailySummary.vue","../src/models/EmailFrequency.js","../src/components/EmailSettings.vue","../src/views/UserSettings.vue","../src/settings-personal.ts"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcSettingsSection :name=\"t('activity', 'Daily activity summary')\">\n\t\t<NcCheckboxRadioSwitch\n\t\t\tdata-cy-checkbox\n\t\t\tv-model=\"activityDigestEnabled\"\n\t\t\t@update:model-value=\"toggleActivityDigestEnabled({ activityDigestEnabled: $event })\">\n\t\t\t{{ t('activity', 'Send daily activity summary in the morning') }}\n\t\t</NcCheckboxRadioSwitch>\n\t</NcSettingsSection>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport { mapActions, mapState } from 'vuex'\nimport NcCheckboxRadioSwitch from '@nextcloud/vue/components/NcCheckboxRadioSwitch'\nimport NcSettingsSection from '@nextcloud/vue/components/NcSettingsSection'\n\nexport default {\n\tname: 'DailySummary',\n\tcomponents: {\n\t\tNcCheckboxRadioSwitch,\n\t\tNcSettingsSection,\n\t},\n\n\tcomputed: {\n\t\t...mapState(['activityDigestEnabled']),\n\t},\n\n\tmounted() {\n\t\tthis.setEndpoint({ endpoint: '/apps/activity/settings' })\n\t},\n\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'setEndpoint',\n\t\t\t'toggleActivityDigestEnabled',\n\t\t]),\n\n\t\tt,\n\t},\n}\n</script>\n","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nexport default {\n\tEmailFrequency: {\n\t\tEMAIL_SEND_HOURLY: 0,\n\t\tEMAIL_SEND_DAILY: 1,\n\t\tEMAIL_SEND_WEEKLY: 2,\n\t\tEMAIL_SEND_ASAP: 3,\n\t},\n}\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"emailEnabled\">\n\t\t<p v-if=\"!isEmailSet\">\n\t\t\t<strong>{{ t('activity', 'You need to set up your email address before you can receive notification emails.') }}</strong>\n\t\t</p>\n\t\t<p>\n\t\t\t<label for=\"activity_setting_batchtime\" class=\"activity-frequency__label\">\n\t\t\t\t{{ t('activity', 'Send activity emails') }}\n\t\t\t</label>\n\t\t\t<select\n\t\t\t\tid=\"activity_setting_batchtime\"\n\t\t\t\tclass=\"notification-frequency__select\"\n\t\t\t\tname=\"activity_setting_batchtime\"\n\t\t\t\t@change=\"setSettingBatchtime({ settingBatchtime: $event.target.value })\">\n\t\t\t\t<option\n\t\t\t\t\t:value=\"EmailFrequency.EMAIL_SEND_ASAP\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_ASAP\">\n\t\t\t\t\t{{ t('activity', 'As soon as possible') }}\n\t\t\t\t</option>\n\t\t\t\t<option\n\t\t\t\t\t:value=\"EmailFrequency.EMAIL_SEND_HOURLY\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_HOURLY\">\n\t\t\t\t\t{{ t('activity', 'Hourly') }}\n\t\t\t\t</option>\n\t\t\t\t<option\n\t\t\t\t\t:value=\"EmailFrequency.EMAIL_SEND_DAILY\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_DAILY\">\n\t\t\t\t\t{{ t('activity', 'Daily') }}\n\t\t\t\t</option>\n\t\t\t\t<option\n\t\t\t\t\t:value=\"EmailFrequency.EMAIL_SEND_WEEKLY\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_WEEKLY\">\n\t\t\t\t\t{{ t('activity', 'Weekly') }}\n\t\t\t\t</option>\n\t\t\t</select>\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport { mapActions, mapState } from 'vuex'\nimport EmailFrequency from '../models/EmailFrequency.js'\n\nexport default {\n\tname: 'EmailSettings',\n\n\tdata() {\n\t\treturn {\n\t\t\tEmailFrequency: EmailFrequency.EmailFrequency,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapState([\n\t\t\t'emailEnabled',\n\t\t\t'isEmailSet',\n\t\t\t'settingBatchtime',\n\t\t]),\n\t},\n\n\tmethods: {\n\t\t...mapActions(['setSettingBatchtime']),\n\n\t\tt,\n\t},\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.activity-frequency__label {\n\tmargin-top: 24px;\n\tdisplay: inline-block;\n}\n\n.notification-frequency__select {\n\tmargin-left: calc(var(--default-grid-baseline) * 2);\n}\n\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcSettingsSection\n\t\t:name=\"t('activity', 'Activity')\"\n\t\t:description=\"settingDescription\">\n\t\t<ActivityGrid />\n\t\t<EmailSettings />\n\t</NcSettingsSection>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport { mapActions, mapState } from 'vuex'\nimport NcSettingsSection from '@nextcloud/vue/components/NcSettingsSection'\nimport ActivityGrid from '../components/ActivityGrid.vue'\nimport EmailSettings from '../components/EmailSettings.vue'\n\nexport default {\n\tname: 'UserSettings',\n\tcomponents: {\n\t\tNcSettingsSection,\n\t\tEmailSettings,\n\t\tActivityGrid,\n\t},\n\n\tcomputed: {\n\t\t...mapState({\n\t\t\temailEnabled: 'emailEnabled',\n\t\t}),\n\n\t\tsettingDescription() {\n\t\t\tif (this.emailEnabled) {\n\t\t\t\treturn t('activity', 'Choose for which activities you want to get an email or push notification.')\n\t\t\t} else {\n\t\t\t\treturn t('activity', 'Choose for which activities you want to get a push notification.')\n\t\t\t}\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.setEndpoint({ endpoint: '/apps/activity/settings' })\n\t},\n\n\tmethods: {\n\t\t...mapActions(['setEndpoint']),\n\n\t\tt,\n\t},\n}\n\n</script>\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { createApp } from 'vue'\nimport DailySummary from './views/DailySummary.vue'\nimport UserSettings from './views/UserSettings.vue'\nimport store from './store/settings-store.js'\n\nconst userSettingApp = createApp(UserSettings)\nuserSettingApp.use(store)\nuserSettingApp.mount('#activity-user-settings')\n\nconst digestSettingApp = createApp(DailySummary)\ndigestSettingApp.use(store)\ndigestSettingApp.mount('#activity-digest-user-settings')\n"],"names":["_sfc_main","NcCheckboxRadioSwitch","NcSettingsSection","mapState","mapActions","t","_createBlock","_component_NcSettingsSection","$options","_createVNode","_component_NcCheckboxRadioSwitch","_ctx","$event","_cache","EmailFrequency","_createElementBlock","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_toDisplayString","$data","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","EmailSettings","ActivityGrid","_component_ActivityGrid","_component_EmailSettings","userSettingApp","createApp","UserSettings","store","digestSettingApp","DailySummary"],"mappings":"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"}