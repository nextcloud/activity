{"version":3,"file":"activity-personalSettings.mjs","sources":["../src/models/EmailFrequency.js","../src/components/EmailSettings.vue","../src/views/UserSettings.vue","../src/views/DailySummary.vue","../src/settings-personal.js"],"sourcesContent":["/**\n * @copyright Copyright (c) 2021 Louis Chemineau <louis@chmn.me>\n *\n * @author Louis Chemineau <louis@chmn.me>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default {\n\tEmailFrequency: {\n\t\tEMAIL_SEND_HOURLY: 0,\n\t\tEMAIL_SEND_DAILY: 1,\n\t\tEMAIL_SEND_WEEKLY: 2,\n\t\tEMAIL_SEND_ASAP: 3,\n\t},\n}\n","<!--\n  - @copyright Copyright (c) 2022 Carl Schwan <carl@carlschwan.eu>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div v-if=\"emailEnabled\">\n\t\t<p v-if=\"!isEmailSet\">\n\t\t\t<strong>{{ t('activity', 'You need to set up your email address before you can receive notification emails.') }}</strong>\n\t\t</p>\n\t\t<p>\n\t\t\t<label for=\"activity_setting_batchtime\" class=\"activity-frequency__label\">\n\t\t\t\t{{ t('activity', 'Send activity emails') }}\n\t\t\t</label>\n\t\t\t<select id=\"activity_setting_batchtime\"\n\t\t\t\tclass=\"notification-frequency__select\"\n\t\t\t\tname=\"activity_setting_batchtime\"\n\t\t\t\t@change=\"setSettingBatchtime({settingBatchtime: $event.target.value})\">\n\t\t\t\t<option :value=\"EmailFrequency.EMAIL_SEND_ASAP\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_ASAP\">\n\t\t\t\t\t{{ t('activity', 'As soon as possible') }}\n\t\t\t\t</option>\n\t\t\t\t<option :value=\"EmailFrequency.EMAIL_SEND_HOURLY\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_HOURLY\">\n\t\t\t\t\t{{ t('activity', 'Hourly') }}\n\t\t\t\t</option>\n\t\t\t\t<option :value=\"EmailFrequency.EMAIL_SEND_DAILY\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_DAILY\">\n\t\t\t\t\t{{ t('activity', 'Daily') }}\n\t\t\t\t</option>\n\t\t\t\t<option :value=\"EmailFrequency.EMAIL_SEND_WEEKLY\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_WEEKLY\">\n\t\t\t\t\t{{ t('activity', 'Weekly') }}\n\t\t\t\t</option>\n\t\t\t</select>\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport EmailFrequency from '../models/EmailFrequency.js'\n\nexport default {\n\tname: 'EmailSettings',\n\n\tdata() {\n\t\treturn {\n\t\t\tEmailFrequency: EmailFrequency.EmailFrequency,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState([\n\t\t\t'emailEnabled',\n\t\t\t'isEmailSet',\n\t\t\t'settingBatchtime',\n\t\t]),\n\t},\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'setSettingBatchtime',\n\t\t]),\n\t},\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.activity-frequency__label {\n\tmargin-top: 24px;\n\tdisplay: inline-block;\n}\n</style>\n","<!--\n  - @copyright Copyright (c) 2022 Carl Schwan <carl@carlschwan.eu>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<NcSettingsSection :name=\"t('activity', 'Activity')\"\n\t\t:description=\"settingDescription\">\n\t\t<ActivityGrid />\n\t\t<EmailSettings />\n\t</NcSettingsSection>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport NcSettingsSection from '@nextcloud/vue/dist/Components/NcSettingsSection.js'\nimport EmailSettings from '../components/EmailSettings.vue'\nimport ActivityGrid from '../components/ActivityGrid.vue'\n\nexport default {\n\tname: 'UserSettings',\n\tcomponents: {\n\t\tNcSettingsSection,\n\t\tEmailSettings,\n\t\tActivityGrid,\n\t},\n\n\tcomputed: {\n\t\t...mapState({\n\t\t\temailEnabled: 'emailEnabled',\n\t\t}),\n\t\tsettingDescription() {\n\t\t\tif (this.emailEnabled) {\n\t\t\t\treturn t('activity', 'Choose for which activities you want to get an email or push notification.')\n\t\t\t} else {\n\t\t\t\treturn t('activity', 'Choose for which activities you want to get a push notification.')\n\t\t\t}\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.setEndpoint({ endpoint: '/apps/activity/settings' })\n\t},\n\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'setEndpoint',\n\t\t\t'toggleEmailEnabled',\n\t\t]),\n\t},\n}\n\n</script>\n","<template>\n\t<NcSettingsSection :name=\"t('activity', 'Daily activity summary')\">\n\t\t<NcCheckboxRadioSwitch data-cy-checkbox\n\t\t\t:checked=\"activityDigestEnabled\"\n\t\t\t@update:checked=\"toggleActivityDigestEnabled({activityDigestEnabled: $event})\">\n\t\t\t{{ t('activity', 'Send daily activity summary in the morning') }}\n\t\t</NcCheckboxRadioSwitch>\n\t</NcSettingsSection>\n</template>\n\n<script>\nimport NcCheckboxRadioSwitch from '@nextcloud/vue/dist/Components/NcCheckboxRadioSwitch.js'\nimport NcSettingsSection from '@nextcloud/vue/dist/Components/NcSettingsSection.js'\nimport { mapActions, mapState } from 'vuex'\n\nexport default {\n\tname: 'DailySummary',\n\tcomponents: {\n\t\tNcCheckboxRadioSwitch,\n\t\tNcSettingsSection,\n\t},\n\n\tcomputed: {\n\t\t...mapState([\n\t\t\t'activityDigestEnabled',\n\t\t]),\n\t},\n\n\tmounted() {\n\t\tthis.setEndpoint({ endpoint: '/apps/activity/settings' })\n\t},\n\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'setEndpoint',\n\t\t\t'toggleActivityDigestEnabled',\n\t\t]),\n\t},\n}\n</script>\n","/**\n * @copyright Copyright (c) 2022 Carl Schwan <carl@carlschwan.eu>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport UserSettings from './views/UserSettings.vue'\nimport DailySummary from './views/DailySummary.vue'\nimport { translate as t, translatePlural as n } from '@nextcloud/l10n'\nimport store from './store/settings-store.js'\n\nVue.prototype.t = t\nVue.prototype.n = n\n\nVue.use(Vuex)\n\nexport default {\n\tuserSetting: new Vue({\n\t\tel: '#activity-user-settings',\n\t\tstore,\n\t\tname: 'ActivityPersonalSettings',\n\t\trender: h => h(UserSettings),\n\t}),\n\tdigestSetting: new Vue({\n\t\tel: '#activity-digest-user-settings',\n\t\tname: 'ActivityDigestPersonalSettings',\n\t\tstore,\n\t\trender: h => h(DailySummary),\n\t}),\n}\n"],"names":["EmailFrequency","_sfc_main","mapState","mapActions","NcSettingsSection","EmailSettings","ActivityGrid","NcCheckboxRadioSwitch","Vue","t","n","Vuex","store","h","UserSettings","DailySummary"],"mappings":";qWAsBA,MAAeA,EAAA,CACd,eAAgB,CACf,kBAAmB,EACnB,iBAAkB,EAClB,kBAAmB,EACnB,gBAAiB,CACjB,CACF,EC6BAC,EAAA,CACA,KAAA,gBAEA,MAAA,CACA,MAAA,CACA,eAAAD,EAAA,cACA,CACA,EACA,SAAA,CACA,GAAAE,EAAA,CACA,eACA,aACA,kBACA,CAAA,CACA,EACA,QAAA,CACA,GAAAC,EAAA,CACA,qBACA,CAAA,CACA,CACA,s3CC5CAF,EAAA,CACA,KAAA,eACA,WAAA,CACA,kBAAAG,EACA,cAAAC,EACA,aAAAC,CACA,EAEA,SAAA,CACA,GAAAJ,EAAA,CACA,aAAA,cACA,CAAA,EACA,oBAAA,CACA,OAAA,KAAA,aACA,EAAA,WAAA,4EAAA,EAEA,EAAA,WAAA,kEAAA,CAEA,CACA,EAEA,SAAA,CACA,KAAA,YAAA,CAAA,SAAA,yBAAA,CAAA,CACA,EAEA,QAAA,CACA,GAAAC,EAAA,CACA,cACA,oBACA,CAAA,CACA,CACA,6OClDAF,EAAA,CACA,KAAA,eACA,WAAA,CACA,sBAAAM,EACA,kBAAAH,CACA,EAEA,SAAA,CACA,GAAAF,EAAA,CACA,uBACA,CAAA,CACA,EAEA,SAAA,CACA,KAAA,YAAA,CAAA,SAAA,yBAAA,CAAA,CACA,EAEA,QAAA,CACA,GAAAC,EAAA,CACA,cACA,6BACA,CAAA,CACA,CACA,scCVAK,EAAI,UAAU,EAAIC,EAClBD,EAAI,UAAU,EAAIE,EAElBF,EAAI,IAAIG,CAAI,EAGE,IAAIH,EAAI,CACpB,GAAI,0BACJ,MAAAI,EACA,KAAM,2BACN,OAAQC,GAAKA,EAAEC,CAAY,CAC7B,CAAE,EACc,IAAIN,EAAI,CACtB,GAAI,iCACJ,KAAM,iCACN,MAAAI,EACA,OAAQC,GAAKA,EAAEE,CAAY,CAC7B,CAAE"}